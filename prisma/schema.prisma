// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Customer {
  id       String @id @default(dbgenerated("uuid()")) @db.Text
  email    String @unique
  clerk_id String @unique

  customer_information CustomerInformation[]

  @@map("customer")
}

model CustomerInformation {
  id          String   @id @default(dbgenerated("uuid()")) @db.Text
  customer_id String
  customer    Customer @relation(fields: [customer_id], references: [id])

  first_name String   @db.Text
  last_name  String   @db.Text
  birth_date DateTime

  @@map("customer_information")
}

model CustomerAddress {
  id           String @id @default(dbgenerated("uuid()")) @db.Text
  house_number String
  street       String
  barangay     String
  municipality String
  province     String
  zip_code     String

  additional_address String

  @@map("customer_address")
}
